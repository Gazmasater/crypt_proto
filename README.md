mx0vglmT3srN1IS19H
135bb7a7509e4421bad692415c53753b



sudo systemctl mask sleep.target suspend.target hibernate.target hybrid-sleep.target



wbs-api.mexc.com/ws 


[https://edis-global.vercel.app/ru/vps-hosting/singapore-singapore
](https://sg.edisglobal.com/)



git pull --rebase origin privat
git push origin privat


BOOK_INTERVAL=100ms
SYMBOLS_FILE=triangles_markets.csv
DEBUG=false


import (
    // ...
    "net/http"
    _ "net/http/pprof"
)


   // pprof HTTP-сервер
    go func() {
        log.Println("pprof on http://localhost:6060/debug/pprof/")
        if err := http.ListenAndServe("localhost:6060", nil); err != nil {
            log.Printf("pprof server error: %v", err)
        }
    }()


	go tool pprof http://localhost:6060/debug/pprof/profile?seconds=30


(pprof) top        # показать топ функций по CPU
(pprof) top10
(pprof) list parsePBWrapperMid   # подробный разбор одной функции
(pprof) quit


go tool pprof http://localhost:6060/debug/pprof/heap


(pprof) top
(pprof) top -cum
(pprof) list parsePBWrapperMid
(pprof) quit




export TRADE_AMOUNT_USDT=100
export FEE_PCT=0.04
export SELL_SAFETY=0.995

export TRIANGLES_FILE=triangles_markets.csv
export TRIANGLES_ENRICHED_FILE=triangles_markets_enriched.csv

go run ./cmd/triangles_enrich_mexc




base1,quote1,symbol1,step1,minQty1,minNotional1,spot1,market1,qoq1,basePrec1,quotePrec1,base2,quote2,symbol2,step2,minQty2,minNotional2,spot2,market2,qoq2,basePrec2,quotePrec2,base3,quote3,symbol3,step3,minQty3,minNotional3,spot3,market3,qoq3,basePrec3,quotePrec3,cycle_leg1,cycle_leg2,cycle_leg3,min_start_usdt
AIXBT,USDC,AIXBTUSDC,0,0.000000000000,0.000000000000,1,1,0,2,5,USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,AIXBT,USDT,AIXBTUSDT,0,0.000000000000,0.000000000000,1,1,0,2,5,AIXBTUSDT:BUY USDT→AIXBT,AIXBTUSDC:SELL AIXBT→USDC,USDCUSDT:SELL USDC→USDT,0.010598
BABYDOGE,USDC,BABYDOGEUSDC,0,0.000000000000,0.000000000000,1,1,0,0,13,USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,BABYDOGE,USDT,BABYDOGEUSDT,0,0.000000000000,0.000000000000,1,1,0,0,13,BABYDOGEUSDT:BUY USDT→BABYDOGE,BABYDOGEUSDC:SELL BABYDOGE→USDC,USDCUSDT:SELL USDC→USDT,0.010143
BUTTHOLE,USDC,BUTTHOLEUSDC,0,0.000000000000,0.000000000000,1,1,0,2,7,USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,BUTTHOLE,USDT,BUTTHOLEUSDT,0,0.000000000000,0.000000000000,1,1,0,2,7,BUTTHOLEUSDT:BUY USDT→BUTTHOLE,BUTTHOLEUSDC:SELL BUTTHOLE→USDC,USDCUSDT:SELL USDC→USDT,0.010246
CGPT,USDC,CGPTUSDC,0,0.000000000000,0.000000000000,1,1,0,2,5,USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,CGPT,USDT,CGPTUSDT,0,0.000000000000,0.000000000000,1,1,0,2,6,CGPTUSDT:BUY USDT→CGPT,CGPTUSDC:SELL CGPT→USDC,USDCUSDT:SELL USDC→USDT,0.010582
CHZ,USDC,CHZUSDC,0,0.000000000000,0.000000000000,1,1,0,2,5,USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,CHZ,USDT,CHZUSDT,0,0.000000000000,0.000000000000,1,1,0,2,5,CHZUSDT:BUY USDT→CHZ,CHZUSDC:SELL CHZ→USDC,USDCUSDT:SELL USDC→USDT,0.010483
DSYNC,USDC,DSYNCUSDC,0,0.000000000000,0.000000000000,1,1,0,2,5,USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,DSYNC,USDT,DSYNCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,5,DSYNCUSDT:BUY USDT→DSYNC,DSYNCUSDC:SELL DSYNC→USDC,USDCUSDT:SELL USDC→USDT,0.010419
ENA,USDC,ENAUSDC,0,0.000000000000,0.000000000000,1,1,0,2,4,USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,ENA,USDT,ENAUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,ENAUSDT:BUY USDT→ENA,ENAUSDC:SELL ENA→USDC,USDCUSDT:SELL USDC→USDT,0.012252
FARTCOIN,USDC,FARTCOINUSDC,0,0.000000000000,0.000000000000,1,1,0,2,4,USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,FARTCOIN,USDT,FARTCOINUSDT,0,0.000000000000,0.000000000000,1,1,0,2,5,FARTCOINUSDT:BUY USDT→FARTCOIN,FARTCOINUSDC:SELL FARTCOIN→USDC,USDCUSDT:SELL USDC→USDT,0.015350
FET,USDC,FETUSDC,0,0.000000000000,0.000000000000,1,1,0,2,4,USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,FET,USDT,FETUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,FETUSDT:BUY USDT→FET,FETUSDC:SELL FET→USDC,USDCUSDT:SELL USDC→USDT,0.012234
HBAR,USDC,HBARUSDC,0,0.000000000000,0.000000000000,1,1,0,2,4,USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,HBAR,USDT,HBARUSDT,0,0.000000000000,0.000000000000,1,1,0,2,5,HBARUSDT:BUY USDT→HBAR,HBARUSDC:SELL HBAR→USDC,USDCUSDT:SELL USDC→USDT,0.012029
ICP,USDC,ICPUSDC,0,0.000000000000,0.000000000000,1,1,0,2,3,USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,ICP,USDT,ICPUSDT,0,0.000000000000,0.000000000000,1,1,0,2,3,ICPUSDT:BUY USDT→ICP,ICPUSDC:SELL ICP→USDC,USDCUSDT:SELL USDC→USDT,0.057900
INJ,USDC,INJUSDC,0,0.000000000000,0.000000000000,1,1,0,2,3,USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,INJ,USDT,INJUSDT,0,0.000000000000,0.000000000000,1,1,0,2,2,INJUSDT:BUY USDT→INJ,INJUSDC:SELL INJ→USDC,USDCUSDT:SELL USDC→USDT,0.092600
KAITO,USDC,KAITOUSDC,0,0.000000000000,0.000000000000,1,1,0,2,4,USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,KAITO,USDT,KAITOUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,KAITOUSDT:BUY USDT→KAITO,KAITOUSDC:SELL KAITO→USDC,USDCUSDT:SELL USDC→USDT,0.015129
KAS,USDC,KASUSDC,0,0.000000000000,0.000000000000,1,1,0,2,5,USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,KAS,USDT,KASUSDT,0,0.000000000000,0.000000000000,1,1,0,2,6,KASUSDT:BUY USDT→KAS,KASUSDC:SELL KAS→USDC,USDCUSDT:SELL USDC→USDT,0.010505
KEKIUS,USDC,KEKIUSUSDC,0,0.000000000000,0.000000000000,1,1,0,2,6,USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,KEKIUS,USDT,KEKIUSUSDT,0,0.000000000000,0.000000000000,1,1,0,2,6,KEKIUSUSDT:BUY USDT→KEKIUS,KEKIUSUSDC:SELL KEKIUS→USDC,USDCUSDT:SELL USDC→USDT,0.010234
LINGO,USDC,LINGOUSDC,0,0.000000000000,0.000000000000,1,1,0,2,5,USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,LINGO,USDT,LINGOUSDT,0,0.000000000000,0.000000000000,1,1,0,2,5,LINGOUSDT:BUY USDT→LINGO,LINGOUSDC:SELL LINGO→USDC,USDCUSDT:SELL USDC→USDT,0.010230
LINK,USDC,LINKUSDC,0,0.000000000000,0.000000000000,1,1,0,2,2,USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,LINK,USDT,LINKUSDT,0,0.000000000000,0.000000000000,1,1,0,2,2,LINKUSDT:BUY USDT→LINK,LINKUSDC:SELL LINK→USDC,USDCUSDT:SELL USDC→USDT,0.245000
MELANIA,USDC,MELANIAUSDC,0,0.000000000000,0.000000000000,1,1,0,2,4,USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,MELANIA,USDT,MELANIAUSDT,0,0.000000000000,0.000000000000,1,1,0,2,5,MELANIAUSDT:BUY USDT→MELANIA,MELANIAUSDC:SELL MELANIA→USDC,USDCUSDT:SELL USDC→USDT,0.011979
NAKA,USDC,NAKAUSDC,0,0.000000000000,0.000000000000,1,1,0,2,4,USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,NAKA,USDT,NAKAUSDT,0,0.000000000000,0.000000000000,1,1,0,2,5,NAKAUSDT:BUY USDT→NAKA,NAKAUSDC:SELL NAKA→USDC,USDCUSDT:SELL USDC→USDT,0.011510
NPC,USDC,NPCUSDC,0,0.000000000000,0.000000000000,1,1,0,2,5,USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,NPC,USDT,NPCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,6,NPCUSDT:BUY USDT→NPC,NPCUSDC:SELL NPC→USDC,USDCUSDT:SELL USDC→USDT,0.010157
ONDO,USDC,ONDOUSDC,0,0.000000000000,0.000000000000,1,1,0,2,4,USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,ONDO,USDT,ONDOUSDT,0,0.000000000000,0.000000000000,1,1,0,2,5,ONDOUSDT:BUY USDT→ONDO,ONDOUSDC:SELL ONDO→USDC,USDCUSDT:SELL USDC→USDT,0.015594
PEAQ,USDC,PEAQUSDC,0,0.000000000000,0.000000000000,1,1,0,2,5,USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,PEAQ,USDT,PEAQUSDT,0,0.000000000000,0.000000000000,1,1,0,2,5,PEAQUSDT:BUY USDT→PEAQ,PEAQUSDC:SELL PEAQ→USDC,USDCUSDT:SELL USDC→USDT,0.010461
PENGU,USDC,PENGUUSDC,0,0.000000000000,0.000000000000,1,1,0,2,6,USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,PENGU,USDT,PENGUUSDT,0,0.000000000000,0.000000000000,1,1,0,2,6,PENGUUSDT:BUY USDT→PENGU,PENGUUSDC:SELL PENGU→USDC,USDCUSDT:SELL USDC→USDT,0.010169
PEPE,USDC,PEPEUSDC,0,0.000000000000,0.000000000000,1,1,0,0,9,USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,PEPE,USDT,PEPEUSDT,0,0.000000000000,0.000000000000,1,1,0,0,9,PEPEUSDT:BUY USDT→PEPE,PEPEUSDC:SELL PEPE→USDC,USDCUSDT:SELL USDC→USDT,0.010132
PI,USDC,PIUSDC,0,0.000000000000,0.000000000000,1,1,0,2,4,USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,PI,USDT,PIUSDT,0,0.000000000000,0.000000000000,1,1,0,2,5,PIUSDT:BUY USDT→PI,PIUSDC:SELL PI→USDC,USDCUSDT:SELL USDC→USDT,0.012181
QUBIC,USDC,QUBICUSDC,0,0.000000000000,0.000000000000,1,1,0,0,10,USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,QUBIC,USDT,QUBICUSDT,0,0.000000000000,0.000000000000,1,1,0,0,10,QUBICUSDT:BUY USDT→QUBIC,QUBICUSDC:SELL QUBIC→USDC,USDCUSDT:SELL USDC→USDT,0.010134
RAI,USDC,RAIUSDC,0,0.000000000000,0.000000000000,1,1,0,2,4,USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,RAI,USDT,RAIUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,RAIUSDT:BUY USDT→RAI,RAIUSDC:SELL RAI→USDC,USDCUSDT:SELL USDC→USDT,0.011792
RBNT,USDC,RBNTUSDC,0,0.000000000000,0.000000000000,1,1,0,2,6,USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,RBNT,USDT,RBNTUSDT,0,0.000000000000,0.000000000000,1,1,0,2,6,RBNTUSDT:BUY USDT→RBNT,RBNTUSDC:SELL RBNT→USDC,USDCUSDT:SELL USDC→USDT,0.010239
RIO,USDC,RIOUSDC,0,0.000000000000,0.000000000000,1,1,0,2,4,USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,RIO,USDT,RIOUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,RIOUSDT:BUY USDT→RIO,RIOUSDC:SELL RIO→USDC,USDCUSDT:SELL USDC→USDT,0.011848
S,USDC,SUSDC,0,0.000000000000,0.000000000000,1,1,0,2,5,USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,S,USDT,SUSDT,0,0.000000000000,0.000000000000,1,1,0,2,5,SUSDT:BUY USDT→S,SUSDC:SELL S→USDC,USDCUSDT:SELL USDC→USDT,0.011033
SEN,USDC,SENUSDC,0,0.000000000000,0.000000000000,1,1,0,2,6,USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,SEN,USDT,SENUSDT,0,0.000000000000,0.000000000000,1,1,0,2,6,SENUSDT:BUY USDT→SEN,SENUSDC:SELL SEN→USDC,USDCUSDT:SELL USDC→USDT,0.010298
SOSO,USDC,SOSOUSDC,0,0.000000000000,0.000000000000,1,1,0,2,4,USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,SOSO,USDT,SOSOUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,SOSOUSDT:BUY USDT→SOSO,SOSOUSDC:SELL SOSO→USDC,USDCUSDT:SELL USDC→USDT,0.016194
SUI,USDC,SUIUSDC,0,0.000000000000,0.000000000000,1,1,0,2,4,USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,SUI,USDT,SUIUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,SUIUSDT:BUY USDT→SUI,SUIUSDC:SELL SUI→USDC,USDCUSDT:SELL USDC→USDT,0.028410
SUPRA,USDC,SUPRAUSDC,0,0.000000000000,0.000000000000,1,1,0,2,7,USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,SUPRA,USDT,SUPRAUSDT,0,0.000000000000,0.000000000000,1,1,0,2,7,SUPRAUSDT:BUY USDT→SUPRA,SUPRAUSDC:SELL SUPRA→USDC,USDCUSDT:SELL USDC→USDT,0.010163
TAO,USDC,TAOUSDC,0,0.000000000000,0.000000000000,1,1,0,2,2,USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,TAO,USDT,TAOUSDT,0,0.000000000000,0.000000000000,1,1,0,2,2,TAOUSDT:BUY USDT→TAO,TAOUSDC:SELL TAO→USDC,USDCUSDT:SELL USDC→USDT,4.762800
TON,USDC,TONUSDC,0,0.000000000000,0.000000000000,1,1,0,2,3,USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,TON,USDT,TONUSDT,0,0.000000000000,0.000000000000,1,1,0,2,3,TONUSDT:BUY USDT→TON,TONUSDC:SELL TON→USDC,USDCUSDT:SELL USDC→USDT,0.029460
TRUMP,USDC,TRUMPUSDC,0,0.000000000000,0.000000000000,1,1,0,2,3,USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,TRUMP,USDT,TRUMPUSDT,0,0.000000000000,0.000000000000,1,1,0,2,3,TRUMPUSDT:BUY USDT→TRUMP,TRUMPUSDC:SELL TRUMP→USDC,USDCUSDT:SELL USDC→USDT,0.102840
TURBO,USDC,TURBOUSDC,0,0.000000000000,0.000000000000,1,1,0,2,6,USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,TURBO,USDT,TURBOUSDT,0,0.000000000000,0.000000000000,1,1,0,2,6,TURBOUSDT:BUY USDT→TURBO,TURBOUSDC:SELL TURBO→USDC,USDCUSDT:SELL USDC→USDT,0.010151
ULTIMA,USDC,ULTIMAUSDC,0,0.000000000000,0.000000000000,1,1,0,4,2,USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,ULTIMA,USDT,ULTIMAUSDT,0,0.000000000000,0.000000000000,1,1,0,4,2,ULTIMAUSDT:BUY USDT→ULTIMA,ULTIMAUSDC:SELL ULTIMA→USDC,USDCUSDT:SELL USDC→USDT,0.991846
USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,ZEN,USDT,ZENUSDT,0,0.000000000000,0.000000000000,1,1,0,2,3,ZEN,USDC,ZENUSDC,0,0.000000000000,0.000000000000,1,1,0,2,3,ZENUSDT:BUY USDT→ZEN,ZENUSDC:SELL ZEN→USDC,USDCUSDT:SELL USDC→USDT,0.148460
USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,XPL,USDT,XPLUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,XPL,USDC,XPLUSDC,0,0.000000000000,0.000000000000,1,1,0,2,4,XPLUSDT:BUY USDT→XPL,XPLUSDC:SELL XPL→USDC,USDCUSDT:SELL USDC→USDT,0.012530
USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,VIRTUAL,USDT,VIRTUALUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,VIRTUAL,USDC,VIRTUALUSDC,0,0.000000000000,0.000000000000,1,1,0,2,4,VIRTUALUSDT:BUY USDT→VIRTUAL,VIRTUALUSDC:SELL VIRTUAL→USDC,USDCUSDT:SELL USDC→USDT,0.020382
USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,XLM,USDT,XLMUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,XLM,USDC,XLMUSDC,0,0.000000000000,0.000000000000,1,1,0,2,4,XLMUSDT:BUY USDT→XLM,XLMUSDC:SELL XLM→USDC,USDCUSDT:SELL USDC→USDT,0.012612
USDC,USDT,USDCUSDT,0,0.000000000000,0.000000000000,1,1,0,2,4,XMR,USDT,XMRUSDT,0,0.000000000000,0.000000000000,1,1,0,3,2,XMR,USDC,XMRUSDC,0,0.000000000000,0.000000000000,1,1,0,3,2,XMRUSDT:BUY USDT→XMR,XMRUSDC:SELL XMR→USDC,USDCUSDT:SELL USDC→USDT,0.837380



2025/12/18 02:43:16.261048 input=triangles_markets.csv output=triangles_markets_enriched.csv TRADE_AMOUNT_USDT=1000.000000 FEE_PCT=0.040000 SELL_SAFETY=0.995000
2025/12/18 02:43:16.261304 triangles rows: 415
2025/12/18 02:43:16.501084 rules loaded: 2538 symbols
2025/12/18 02:43:16.534821 bookTicker loaded: 2533 symbols
2025/12/18 02:43:16.536706 DONE: wrote ok triangles: 44 (skipped=371)
Готово, файл: triangles_markets_enriched.csv


